#include "Mutex.h"


//-------------------------------------------------------------
//!
//! @brief スレッド
//! @brief スレッド関連の名前空間
//!
//-------------------------------------------------------------
namespace Thread
{
    /*************************************************************//**
     *
     *  @brief  コンストラクタ
     *  @param  なし
     *
     ****************************************************************/
    C_Mutex::C_Mutex()
    {
        pMutex_ = ::SDL_CreateMutex();
    }


    /*************************************************************//**
     *
     *  @brief  デストラクタ
     *  @param  なし
     *
     ****************************************************************/
    C_Mutex::~C_Mutex()
    {
        ::SDL_DestroyMutex(pMutex_);
    }


    /*************************************************************//**
     *
     *  @brief  ロック処理を行う
     *  @param  なし
     *  @return 正常終了：true
     *  @return 異常終了：false
     *
     ****************************************************************/
    bool C_Mutex::Lock()
    {
        return ::SDL_LockMutex(pMutex_) == 0;
    }


    /*************************************************************//**
     *
     *  @brief  アンロック処理を行う
     *  @param  なし
     *  @return なし
     *
     ****************************************************************/
    void C_Mutex::Unlock()
    {
        ::SDL_UnlockMutex(pMutex_);
    }
}